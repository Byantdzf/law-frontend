
<import src="/template/order/detail"/>

<app-page id="app-page">
  <view class="page-order-detail">
    <view class="detail-box">
      <view class="title flex">
        <text class="flex-bd fw-b">基本信息</text>
      </view>
      <template is="orderBaseInfo" data="{{...item}}"/>
      
      <view class="title fw-b">订单信息</view>
      <template is="orderInfo_04" data="{{...item}}"/>
    </view>


    <view class="file-group" wx:if="{{ item.orderStatus == 60 }}">
      <view class="file-box" wx:for="{{files}}" wx:key="{{ index }}">
        <view class="img-box">
          <image src="/static/images/tplImg.png" />
        </view>
        <view class="pa-20">
          <view class="file-name ta-c">
            {{ item.fileName || '' }}
          </view>
          <view class="flex pt-20 pb-20">
            <view class="flex-bd cl-primary">价格：{{ item.price || '' }}元</view>
            <view class="cl-999">销量：{{ item.realSales || '' }}</view>
          </view>
          <view class="file-con">
            {{ item.brief || '' }}
          </view>
          <view class="flex btn-box mt-20">
            <button size="mini" type="primary" data-filepath="{{ item.filePath }}" bindtap="handleDownload">立即下载</button>
            <button size="mini" type="primary" data-filepath="{{ item.filePath }}" bindtap="handleOpenDoc">点击预览</button>
          </view>
        </view>
      </view>
    </view>

    <view class="btn-box mt-20" wx:if="{{ item.orderStatus == 10 }}">
      <button type="primary" bindtap="handlePay">立即支付</button>
    </view>
  </view>
</app-page>