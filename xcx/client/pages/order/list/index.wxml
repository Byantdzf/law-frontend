<!-- pages/order/index.wxml -->
<app-page id="app-page">
  <view class="flex-column container page-order">
    <app-tab items="{{ statusItems }}"/>
    <view class="flex-bd">
      <app-list url="{{listUrl}}" id="app-list" bind:change="updateList">
        <view class="pa-20">
          <view class="order-item" wx:for="{{ list }}" wx:key="{{ index }}">
            <view class="flex order-item-hd">
              <view class="flex-bd">订单编号：{{ item.orderNo }}</view>
              <view class="flex flex-ft">
                <app-countdown
                  wx:if="{{ item.time }}"
                  value="{{ item.time }}"
                  data-index="{{ index }}"
                  bind:timeup="handleItemTimeup"
                />
                <text class="pl-10 cl-primary fw-b">{{ orderStatus[item.status] }}</text>
              </view>
            </view>
            <view class="order-item-bd pt-20">
              <view class="flex">
                <view class="flex flex-bd">
                  <view class="label cl-999">下单时间：</view>
                  <view class="flex-bd cl-666">2019年8月18日20:00</view>
                </view>
                <view class="flex">
                  <view class="label cl-999">订单金额：</view>
                  <view class="flex-bd cl-red">50元</view>
                </view>
              </view>
              <view class="flex">
                <view class="label cl-999">订单类型：</view>
                <view class="flex-bd cl-666">{{ orderType[item.orderType] }}</view>
              </view>
              <view class="flex">
                <view class="label cl-999">订单种类：</view>
                <view class="flex-bd cl-666">{{ orderCategory[item.orderCategory] }}</view>
              </view>
            </view>
            <view class="order-item-ft mt-20" wx:if="{{ item.status }}">
              <view class="flex pt-20">
                <view class="label cl-999">接单律师：</view>
                <view class="flex flex-bd cl-666">
                  <image src="{{ item.pic }}"></image>
                  <text>{{ item.lawyer }}</text>
                </view>
              </view>
              <view class="flex pt-10">
                <view class="label cl-999">回复详情：</view>
                <view class="flex flex-bd cl-666">
                  <view class="iconfont icon-yuyin cl-primary"></view>
                  <text>100秒，点击收听</text>
                </view>
              </view>
            </view>
            <view class="flex btn-box">
              <button size="mini" plain wx:if="{{ item.status == 0 }}">取消订单</button>
              <button size="mini" plain wx:if="{{ item.status == 2 }}">立即支付</button>
              <button size="mini" plain wx:if="{{ item.status == 4 }}">立即评价</button>
            </view>
          </view>
        </view>
      </app-list>
    </view>
  </view>
</app-page>